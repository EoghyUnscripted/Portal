{% extends 'base.html' %}

{% block content %}

<div class='container mb-5'>

    <div class ='container-fluid'>
        
        <div class='row'>

            <div class='col-12 col-md-4 col-lg-3 mb-5'>
                <div class='container-fluid bg-secondary py-3 rounded'>
                {% load static %}
                <img class='img-fluid rounded w-25 m-3 d-block mx-auto' src='{% static "todo/images/bwsq.png" %}'/>
                <h5 class='text-white text-center'>{{ user.first_name }} {{ user.last_name }}</h5><br />

                <p>
                    <small class='text-white'>To-Do: {{ tcount }}</small><br />
                    <small class='text-white'>Completed: {{ ccount }}</small>
                </p>

                <button class='btn btn-light btn-block'><i class='fas fa-plus'></i> Add Item</button>

                </div>
            </div>

            <div class='col-12 col-md-8 col-lg-9 rounded'>
    
                <h1 class='mt-3'>Edit To-Do Item:</h1>
                <div class='text-danger'>
                    {% if error %}
                        {{ error }}
                    {% endif %}
                </div>
                <hr />
            
                <form method='POST' action='{% url "edit" task.id %}' enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <div class='form-group'>
                        <label class="control-label" for="title">Title</label>
                        <input class="form-control" id="title" name="title" value='{{ task.Task_Title }}' type="text" />
                    </div>
                    <div class='form-group'>
                        <label class="control-label" for="date">Date</label>
                        <input class="form-control" id="date" name="date" value='{{ task.Task_Date|date:"Y-m-d" }}' type="text" />
                    </div>
                    <div class='form-group'>
                        <label class="control-label" for="time">Time</label>
                        <input class="form-control" id="time" name="time" value='{{ task.Task_Time|time:"H:i" }}' type="time" />
                    </div>
                    <div class='form-group'>
                        <label class="control-label" for="location">Location</label>
                        <input class="form-control" id="location" name="location" value='{{ task.Task_Location }}' type="text" />
                    </div>
                    <div class='form-group'>
                        <label class="control-label" for="description">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="10">{{ task.Task_Description }}</textarea>
                    </div>
                    <div class='form-group'>
                        <input class='btn btn-dark' type="submit" name="update" value="Update" />
                        <a href='{% url "portal" %}'>
                            <input class='btn btn-dark' type="button" name="cancel" value="Cancel" />
                        </a>
                    </div>
                </form>
            </div>

        </div>
 
    </div>

</div>

{% endblock %}